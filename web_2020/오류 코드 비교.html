<!-- 작동 안되는 코드 vs 작동되는 코드 비교 -->

<!-- 작동되는 코드 -->
<script>

      // 2. This code loads the IFrame Player API code asynchronously.
      var tag = document.createElement('script');

      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      function onYouTubeIframeAPIReady2(playlist_url) {
          // alert(playlist_url);
          // alert(document.send_playlist.playlistid);
          document.send_playlist.playlistid.value=playlist_url;
          // alert(document.send_playlist.playlistid);

          var numPl = Math.floor((Math.random() * 100) + 1);
          var player2 = new YT.Player("player2", {
              remember_last_time : false,
              height: '490',
              width: '740',
              playerVars: {
                  listType:'playlist',
                  list: playlist_url,
                  index: numPl,
                  autoplay: 1, // 자동재생
                  loop: 1, // 반복재생

  },
              events: {
                  'onReady': function (event) {
                      //event.target.cuePlaylist({list: "PLPKZ6FAxaaf9ve5PmOfLul2YmKqFy1BiW"});
                      //event.target.playVideo();
                      setTimeout(function() {
                          event.target.setShuffle({'shufflePlaylist' : true});
                      }, 100);
                  }
              }
            });
        };
        $('.options').click(function(){
          $('.options').prop('disabled',true);
        });
</script>


<!-- 작동 안되는 코드 -->
<script>

      // 2. This code loads the IFrame Player API code asynchronously.
      var tag = document.createElement('script');

      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      function onYouTubeIframeAPIReady2(playlist_url) {
          console.log(playlist_url)
          var numPl = Math.floor((Math.random() * 100) + 1);
          var player2 = new YT.Player("player2", {
              remember_last_time : false,
              height: '490',
              width: '740',
              playerVars: {
                  listType:'playlist',
                  list: playlist_url,
                  index: numPl,
                  autoplay: 1,
                  loop: 1,

  },
              events: {
                  'onReady': function (event) {
                      //event.target.cuePlaylist({list: "PLPKZ6FAxaaf9ve5PmOfLul2YmKqFy1BiW"});
                      //event.target.playVideo();
                      setTimeout(function() {
                          event.target.setShuffle({'shufflePlaylist' : true});
                      }, 100);
                  }
              }
            });
        };
        $('.options').click(function(){
          $('.options').prop('disabled',true);
        });



</script>
